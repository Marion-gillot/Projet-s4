<!DOCTYPE html>
<html lang="fr" x-data="{ menuIsOpen: false }" :class="menuIsOpen && 'noscroll'">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="description" content="Portfolio de Marion Gillot, webdesigner" />

    <title>Accueil</title>

    <link rel="stylesheet" href="src/css/style.css">
    <link rel="stylesheet" type="text/css" href="src/scss/main.scss">
    <script defer="" src="https://unpkg.com/alpinejs@3.4.2/dist/cdn.min.js"></script>
    <script src="src/js/index.js"></script>
</head>

<body x-data="{ atTop: true }" >

  <header>
    <div class="mobile-header" @scroll.window="atTop = ( window.scrollY > 100 ? false : true )" :class="{ 'header--atTop' : !atTop }">

      <div class="header__bar__mobile"> 
        <a>
          <img class="header__logo__mode" src="public/icon/icon_sun.svg" alt="logo du mode light">
        </a>
        
        <button class="header__menu-btn menu-btn" aria-label="menu" aria-expanded="false" aria-controls="mainNav"
                @pointerdown="menuIsOpen = !menuIsOpen" 
                :class="menuIsOpen && 'menu-btn--open'">
          <span class="menu-btn__bar"></span>
        </button>

        <nav class="header__menu menu" id="mainNav" :class="menuIsOpen && 'menu--open'">
          <ul class="menu__list list-unstyled">
            <li class="menu__item"><a class="menu__link" href="index.html">Projets</a></li>
            <li class="menu__item"><a class="menu__link" href="aboutme.html">À propos</a></li>
          </ul>
        </nav>
      </div>
    </div>

  <div class="desktop-header">

    <div class="header__start">
      <nav>
        <ul class="navigation">
          <li><a href="index.html">PROJETS</a></li>
          <li><a href="aboutme.html">À PROPOS / CONTACT</a></li>
        </ul>
      </nav>
    </div>

    <div class="header__end">



    <button onclick="lightMode()">
        <img src="public/icon/icon_sun.svg" alt="logo du mode clair" class="header__sun">
    </button>
    <!-- <button onclick="darktMode()">
      <img src="public/icon/icon_moon.svg" alt="logo du mode dark" class="header__sun">
  </button> -->

    <select id="header__language__select">
      <option value="english">EN</option>
      <option value="french">FR</option>
      <option value="spanish">ESP</option>
    </select>

    <div>
      <a href="mailto:mgillot.pro@gmail.com">
      <button class="header__btn__mail" target="_blank" >mgillot.pro@gmail.com</button>
      </a>
    </div>
    </div>
  </div>
      
</header> 


<main>
			
    <div class="hero__home__video">
      <video  data-autoplay="" autoplay="" webkit-playsinline="" playsinline="" loop="" muted="" data-object-fit="cover" class="hero__video_dark">
        <source src="public/video/hero_video_dark.mp4" type="video/mp4">      
      </video>
      <!-- <video  data-autoplay="" autoplay="" webkit-playsinline="" playsinline="" loop="" muted="" data-object-fit="cover" class="hero__video_light">
        <source src="public/video/hero_light_video.mp4" type="video/mp4">      
      </video> -->
        <div class="hero__home__text">
          <p class="hero__home__chapo">PORTFOLIO</p>
            <h1 class="hero__home__title">GRAPHISTE<br> WEB/DESIGNER</h1>
            <h1 class="hero__home__chapo">MARION GILLOT</h1>
        </div>
    </div>

     

      <div class="title__projets">PROJETS</div>

      <!-- <div class="scroll-text">
        <p class="p">J'aime le design... et le design.</p>
      </div> -->
        




    <div class="image__container">
        <div class="overlay-outer">
            <div class="a">
           <div class="overlay"></div>
           <img src='public/img/projets/work-expo2025.jpg'>
            <div class="content-details fadeIn_bottom">
               <h3 class="content-title">Title</h3>
               <p class="content-text">Description</p>
            </div>
            </div>
         </div>
        <div class="overlay-outer">
          <div class="a">
         <div class="overlay"></div>
         <img src='public/img/projets/work-affiche-film.jpg'>
          <div class="content-details fadeIn_bottom">
             <h3 class="content-title">Title</h3>
             <p class="content-text">Description</p>
          </div>
          </div>
        </div>
        <div class="overlay-outer">
        <div class="a">
       <div class="overlay"></div>
       <img src='public/img/projets/work-carte.jpg'>
        <div class="content-details fadeIn_bottom">
           <h3 class="content-title">Title</h3>
           <p class="content-text">Description</p>
        </div>
        </div>
        </div>
        <div class="overlay-outer">
      <div class="a">
     <div class="overlay"></div>
     <img src='public/img/projets/work-noffta.jpg'>
      <div class="content-details fadeIn_bottom">
         <h3 class="content-title">Title</h3>
         <p class="content-text">Description</p>
      </div>
      </div>
        </div>
   </div>
      
        
      <a href="aboutme.html#sectioncontact">
        <div class="link__contact">
            <h3>Transformez votre vision en réalité grâce à ma passion en webdesign.</h3>
           <button class="btn_contact">Contacter</button>
        </div>
      </a>


      <div class="section__center">
        <p>Téléchargez mon portfolio en 1 click !</p>
      

          <div>
              <a href="public/portfolio.pdf" download>
                 <div class="face-button" href="#">

                 <div class="face-primary">
                  Download
                 </div>
                
                 <div class="face-secondary">
                  <span class="icon fa fa-hdd-o"></span>
                  Size: 52 kt
                 </div>
              </a>
          </div>
      </div>
    </div>

      <footer class="footer">

        <div class="footer_grid">
        <div class="footer__contact">
            <h3 class="footer__title">Marion Gillot</h3>
            <p><a href="tel:0384542727">07 82 94 35 03</a></p>
            <p><a href="mailto:mgillot.pro@gmail.com" target="_blank">mgillot.pro@gmail.com</a></p>
        </div>
    
        <div class="footer__social">
            <h3 class="footer__title">Me suivre</h3>
          <ul class="footer__list list-unstyled">
            <li><a href="https://www.instagram.com/marion_gillot/" target="_blank" aria-label="instagram"><img src="public/icon/icon_insta.svg" alt="icone instagram"></a></li>
            <li><a href="https://www.behance.net/tc_1820gillot" target="_blank" aria-label="behance"><img src="public/icon/icon_behance.svg" alt="icone behance"></a></li>
            <li><a href="https://twitter.com/marion_082" target="_blank" aria-label="twitter"><img src="public/icon/icon_twitter.svg" alt="icone twitter"></a></li>
            <li><a href="https://www.linkedin.com/in/marion-gillot-8133a7224/" target="_blank" aria-label="linkedin"><img src="public/icon/icon_linkedin.svg" alt="icone linkedin"></a></li>
          </ul>
        </div>
        </div>

          <a href="conditions.html"><span class="footer__license">© 2023 | Tous droits réservés.</span></a>
        
      </footer>


    </main>
</body>

<script>

/* Animation mot Projets */
    var title__projets = document.querySelector('.title__projets');

window.addEventListener('scroll', function () {
  var scrollPos = window.scrollY + window.innerHeight;
  var title__projetsPos = title__projets.offsetTop + title__projets.offsetHeight;

  if (scrollPos > title__projetsPos) {
    title__projets.classList.remove('big');
    title__projets.classList.add('small');
  } else if (scrollPos < title__projetsPos - title__projets.offsetHeight) {
    title__projets.classList.remove('small');
    title__projets.classList.remove('big');
  } else {
    title__projets.classList.remove('small');
    title__projets.classList.add('big');
  }
});

/* Animation des images de projets */
const myImage = document.getElementById("myImage");
  
  myImage.addEventListener("mouseover", function() {
    this.style.transform = "scale(1.5)";
  });
  
  myImage.addEventListener("mouseout", function() {
    this.style.transform = "scale(1)";
  });






  const scrollText = document.querySelector('.scroll-text');
let lastScroll = 0;

window.addEventListener('scroll', function () {
  const currentScroll = window.scrollY;
  if (isInViewport(scrollText)) {
    if (currentScroll > lastScroll) {
      scrollText.querySelector('p').style.animationPlayState = 'running';
    } else {
      scrollText.querySelector('p').style.animationPlayState = 'paused';
    }
  } else {
    scrollText.querySelector('p').style.animationPlayState = 'paused';
  }
  lastScroll = currentScroll;
});

function isInViewport(element) {
  const rect = element.getBoundingClientRect();
  return (
    rect.top >= 0 &&
    rect.left >= 0 &&
    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
  );
}












/* Light Mode */

function lightMode() {
   var element = document.body;
   element.classList.toggle("light");
}


// const toggleModeButton = document.getElementById("light");
// const lightModeVideo = document.querySelector(".hero__video_light");
// const darkModeVideo = document.querySelector(".hero__video__dark");
// let isLightMode = true;

// toggleModeButton.addEventListener("click", () => {
//   isLightMode = !isLightMode;
//   lightModeVideo.style.display = isLightMode ? "block" : "none";
//   darkModeVideo.style.display = isLightMode ? "none" : "block";
// });


window.onload = init;

function init() {
  var root = new THREERoot({
    createCameraControls:!true,
    antialias:(window.devicePixelRatio === 1),
    fov:60
  });

  root.renderer.setClearColor(0x000000);
  root.renderer.setPixelRatio(window.devicePixelRatio || 1);
  root.camera.position.set(0, 0, 600);

  var textAnimation = createTextAnimation();
  root.scene.add(textAnimation);

  var light = new THREE.DirectionalLight();
  light.position.set(0, 0, 1);
  root.scene.add(light);

  var tl = new TimelineMax({
    repeat:-1,
    repeatDelay:0.5,
    yoyo:true
  });
  tl.fromTo(textAnimation, 4,
    {animationProgress:0.0},
    {animationProgress:0.6, ease:Power1.easeInOut},
    0
  );
  tl.fromTo(textAnimation.rotation, 4, {y:0}, {y:Math.PI * 2, ease:Power1.easeInOut}, 0);

  createTweenScrubber(tl);
}

function createTextAnimation() {
  var geometry = generateTextGeometry('AS THE WORLD TURNS', {
    size:40,
    height:12,
    font:'droid sans',
    weight:'bold',
    style:'normal',
    curveSegments:24,
    bevelSize:2,
    bevelThickness:2,
    bevelEnabled:true,
    anchor:{x:0.5, y:0.5, z:0.0}
  });

  THREE.BAS.Utils.tessellateRepeat(geometry, 1.0, 2);

  THREE.BAS.Utils.separateFaces(geometry);

  return new TextAnimation(geometry);
}

function generateTextGeometry(text, params) {
  var geometry = new THREE.TextGeometry(text, params);

  geometry.computeBoundingBox();

  var size = geometry.boundingBox.size();
  var anchorX = size.x * -params.anchor.x;
  var anchorY = size.y * -params.anchor.y;
  var anchorZ = size.z * -params.anchor.z;
  var matrix = new THREE.Matrix4().makeTranslation(anchorX, anchorY, anchorZ);

  geometry.applyMatrix(matrix);

  return geometry;
}

////////////////////
// CLASSES
////////////////////

function TextAnimation(textGeometry) {
  var bufferGeometry = new THREE.BAS.ModelBufferGeometry(textGeometry);

  var aAnimation = bufferGeometry.createAttribute('aAnimation', 2);
  var aEndPosition = bufferGeometry.createAttribute('aEndPosition', 3);
  var aAxisAngle = bufferGeometry.createAttribute('aAxisAngle', 4);

  var faceCount = bufferGeometry.faceCount;
  var i, i2, i3, i4, v;

  var maxDelay = 0.0;
  var minDuration = 1.0;
  var maxDuration = 1.0;
  var stretch = 0.05;
  var lengthFactor = 0.001;
  var maxLength = textGeometry.boundingBox.max.length();

  this.animationDuration = maxDuration + maxDelay + stretch + lengthFactor * maxLength;
  this._animationProgress = 0;

  var axis = new THREE.Vector3();
  var angle;

  for (i = 0, i2 = 0, i3 = 0, i4 = 0; i < faceCount; i++, i2 += 6, i3 += 9, i4 += 12) {
    var face = textGeometry.faces[i];
    var centroid = THREE.BAS.Utils.computeCentroid(textGeometry, face);
    var centroidN = new THREE.Vector3().copy(centroid).normalize();

    // animation
    var delay = (maxLength - centroid.length()) * lengthFactor;
    var duration = THREE.Math.randFloat(minDuration, maxDuration);

    for (v = 0; v < 6; v += 2) {
      aAnimation.array[i2 + v    ] = delay + stretch * Math.random();
      aAnimation.array[i2 + v + 1] = duration;
    }

    // end position
    var point = utils.fibSpherePoint(i, faceCount, 200);

    for (v = 0; v < 9; v += 3) {
      aEndPosition.array[i3 + v    ] = point.x;
      aEndPosition.array[i3 + v + 1] = point.y;
      aEndPosition.array[i3 + v + 2] = point.z;
    }

    // axis angle
    axis.x = centroidN.x;
    axis.y = -centroidN.y;
    axis.z = -centroidN.z;

    axis.normalize();

    angle = Math.PI * THREE.Math.randFloat(0.5, 2.0);

    for (v = 0; v < 12; v += 4) {
      aAxisAngle.array[i4 + v    ] = axis.x;
      aAxisAngle.array[i4 + v + 1] = axis.y;
      aAxisAngle.array[i4 + v + 2] = axis.z;
      aAxisAngle.array[i4 + v + 3] = angle;
    }
  }

  var material = new THREE.BAS.PhongAnimationMaterial({
      shading: THREE.FlatShading,
      side: THREE.DoubleSide,
      transparent: true,
      uniforms: {
        uTime: {type: 'f', value: 0}
      },
      shaderFunctions: [
        THREE.BAS.ShaderChunk['cubic_bezier'],
        THREE.BAS.ShaderChunk['ease_out_cubic'],
        THREE.BAS.ShaderChunk['quaternion_rotation']
      ],
      shaderParameters: [
        'uniform float uTime;',
        'uniform vec3 uAxis;',
        'uniform float uAngle;',
        'attribute vec2 aAnimation;',
        'attribute vec3 aEndPosition;',
        'attribute vec4 aAxisAngle;'
      ],
      shaderVertexInit: [
        'float tDelay = aAnimation.x;',
        'float tDuration = aAnimation.y;',
        'float tTime = clamp(uTime - tDelay, 0.0, tDuration);',
        'float tProgress = ease(tTime, 0.0, 1.0, tDuration);'
        // 'float tProgress = tTime / tDuration;'
      ],
      shaderTransformPosition: [
        'transformed = mix(transformed, aEndPosition, tProgress);',

        'float angle = aAxisAngle.w * tProgress;',
        'vec4 tQuat = quatFromAxisAngle(aAxisAngle.xyz, angle);',
        'transformed = rotateVector(tQuat, transformed);',
      ]
    },
    {
      diffuse: 0x444444,
      specular: 0xcccccc,
      shininess: 4
      //emissive:0xffffff
    }
  );

  THREE.Mesh.call(this, bufferGeometry, material);

  this.frustumCulled = false;
}
TextAnimation.prototype = Object.create(THREE.Mesh.prototype);
TextAnimation.prototype.constructor = TextAnimation;

Object.defineProperty(TextAnimation.prototype, 'animationProgress', {
  get: function() {
    return this._animationProgress;
  },
  set: function(v) {
    this._animationProgress = v;
    this.material.uniforms['uTime'].value = this.animationDuration * v;
  }
});

function THREERoot(params) {
  params = utils.extend({
    fov:60,
    zNear:10,
    zFar:100000,

    createCameraControls:true
  }, params);

  this.renderer = new THREE.WebGLRenderer({
    antialias:params.antialias
  });
  this.renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));
  document.getElementById('three-container').appendChild(this.renderer.domElement);

  this.camera = new THREE.PerspectiveCamera(
    params.fov,
    window.innerWidth / window.innerHeight,
    params.zNear,
    params.zfar
  );

  this.scene = new THREE.Scene();

  if (params.createCameraControls) {
    this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement);
  }

  this.resize = this.resize.bind(this);
  this.tick = this.tick.bind(this);

  this.resize();
  this.tick();

  window.addEventListener('resize', this.resize, false);
}
THREERoot.prototype = {
  tick: function() {
    this.update();
    this.render();
    requestAnimationFrame(this.tick);
  },
  update: function() {
    this.controls && this.controls.update();
  },
  render: function() {
    this.renderer.render(this.scene, this.camera);
  },
  resize: function() {
    this.camera.aspect = window.innerWidth / window.innerHeight;
    this.camera.updateProjectionMatrix();

    this.renderer.setSize(window.innerWidth, window.innerHeight);
  }
};

////////////////////
// UTILS
////////////////////

var utils = {
  extend:function(dst, src) {
    for (var key in src) {
      dst[key] = src[key];
    }

    return dst;
  },
  randSign: function() {
    return Math.random() > 0.5 ? 1 : -1;
  },
  ease:function(ease, t, b, c, d) {
    return b + ease.getRatio(t / d) * c;
  },
  // mapEase:function(ease, v, x1, y1, x2, y2) {
  //   var t = v;
  //   var b = x2;
  //   var c = y2 - x2;
  //   var d = y1 - x1;
  //
  //   return utils.ease(ease, t, b, c, d);
  // },
  fibSpherePoint: (function() {
    var v = {x:0, y:0, z:0};
    var G = Math.PI * (3 - Math.sqrt(5));

    return function(i, n, radius) {
      var step = 2.0 / n;
      var r, phi;

      v.y = i * step - 1 + (step * 0.5);
      r = Math.sqrt(1 - v.y * v.y);
      phi = i * G;
      v.x = Math.cos(phi) * r;
      v.z = Math.sin(phi) * r;

      radius = radius || 1;

      v.x *= radius;
      v.y *= radius;
      v.z *= radius;

      return v;
    }
  })()
};

function createTweenScrubber(tween, seekSpeed) {
  seekSpeed = seekSpeed || 0.001;

  function stop() {
    TweenMax.to(tween, 1, {timeScale:0});
  }

  function resume() {
    TweenMax.to(tween, 1, {timeScale:1});
  }

  function seek(dx) {
    var progress = tween.progress();
    var p = THREE.Math.clamp((progress + (dx * seekSpeed)), 0, 1);

    tween.progress(p);
  }

  var _cx = 0;

  // desktop
  var mouseDown = false;
  document.body.style.cursor = 'pointer';

  window.addEventListener('mousedown', function(e) {
    mouseDown = true;
    document.body.style.cursor = 'ew-resize';
    _cx = e.clientX;
    stop();
  });
  window.addEventListener('mouseup', function(e) {
    mouseDown = false;
    document.body.style.cursor = 'pointer';
    resume();
  });
  window.addEventListener('mousemove', function(e) {
    if (mouseDown === true) {
      var cx = e.clientX;
      var dx = cx - _cx;
      _cx = cx;

      seek(dx);
    }
  });
  // mobile
  window.addEventListener('touchstart', function(e) {
    _cx = e.touches[0].clientX;
    stop();
    e.preventDefault();
  });
  window.addEventListener('touchend', function(e) {
    resume();
    e.preventDefault();
  });
  window.addEventListener('touchmove', function(e) {
    var cx = e.touches[0].clientX;
    var dx = cx - _cx;
    _cx = cx;

    seek(dx);
    e.preventDefault();
  });
}

  </script>

</html>


